<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Controle Financeiro Pessoal</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <header class="app-header">
    <h1>ðŸ’° Controle Financeiro</h1>
  </header>

  <main class="container">
    <!-- Telas -->
    <section id="lancamento" class="tela tela-ativa">
      <div class="card">
        <h3>Adicionar Novo LanÃ§amento</h3>
        <form id="formulario-lancamento">
          <label for="data">Data:</label>
          <input type="date" id="data" required>

          <label for="descricao">DescriÃ§Ã£o:</label>
          <input type="text" id="descricao" list="lista-descricoes" required>
          <datalist id="lista-descricoes"></datalist>

          <label for="categoria">Categoria:</label>
          <input type="text" id="categoria" list="lista-categorias" required>
          <datalist id="lista-categorias"></datalist>

          <label for="valor">Valor:</label>
          <input type="number" id="valor" step="0.01" required>

          <label for="tipo">Tipo:</label>
          <select id="tipo" required>
            <option value="receita">Receita</option>
            <option value="despesa">Despesa</option>
          </select>

          <button type="submit" class="btn-primary">Adicionar</button>
        </form>
      </div>
    </section>

    <section id="resumo" class="tela tela-inativa">
      <div class="card">
        <h3>Resumo Financeiro</h3>
        <p>Receita Total: <span id="receita-total">R$ 0,00</span></p>
        <p>Despesa Total: <span id="despesa-total">R$ 0,00</span></p>
        <p>Saldo Final: <span id="saldo-final">R$ 0,00</span></p>
        <button id="limpar-dados" class="btn-danger">Limpar Todos os Dados</button>
      </div>
      <div class="card">
        <h3>DistribuiÃ§Ã£o de Despesas</h3>
        <canvas id="grafico-despesas"></canvas>
      </div>
    </section>

    <section id="reserva" class="tela tela-inativa">
      <div class="card">
        <h3>Reserva de EmergÃªncia</h3>
        <p>Meta: <span id="meta-reserva">R$ 0,00</span></p>
        <p>Acumulado: <span id="acumulado-reserva">R$ 0,00</span></p>
        <p>Progresso: <span id="progresso-reserva">0%</span></p>
        <button id="definir-meta" class="btn-primary">Definir Meta</button>
      </div>
    </section>

    <section id="investimentos" class="tela tela-inativa">
      <div class="card">
        <h3>Objetivos de Investimento</h3>
        <form id="formulario-objetivo">
          <label for="nome-objetivo">Nome do Objetivo:</label>
          <input type="text" id="nome-objetivo" required>

          <label for="valor-objetivo">Valor da Meta:</label>
          <input type="number" id="valor-objetivo" required>

          <button type="submit" class="btn-primary">Adicionar Objetivo</button>
        </form>
        <div id="lista-objetivos"></div>
      </div>
    </section>

    <section id="historico" class="tela tela-inativa">
      <div class="card">
        <h2>HistÃ³rico de LanÃ§amentos</h2>
        <div class="filtro-container">
          <input type="text" id="filtro-descricao" placeholder="Buscar por descriÃ§Ã£o...">
          <input type="date" id="filtro-data-inicio">
          <input type="date" id="filtro-data-fim">
          <select id="filtro-categoria">
            <option value="">Todas as Categorias</option>
          </select>
        </div>
        <div class="export-buttons">
          <button id="exportar-excel" class="btn-secondary">Exportar para Excel</button>
          <button id="exportar-pdf" class="btn-secondary">Exportar para PDF</button>
        </div>
        <table>
          <thead>
            <tr>
              <th>Data</th>
              <th>DescriÃ§Ã£o</th>
              <th>Categoria</th>
              <th>Valor</th>
              <th>Tipo</th>
              <th>AÃ§Ãµes</th>
            </tr>
          </thead>
          <tbody id="tabela-corpo"></tbody>
        </table>
      </div>
    </section>

    <section id="mentoria" class="tela tela-inativa">
      <div class="card">
        <h2>Guia de OrganizaÃ§Ã£o Financeira</h2>
        <p>Administrar suas finanÃ§as nÃ£o precisa ser complicado. Siga a <b>Regra 50/30/20</b> para simplificar sua vida financeira e alcanÃ§ar seus objetivos.</p>
        <h3>1. Necessidades (50%)</h3>
        <p>Destine 50% de sua renda mensal para gastos essenciais e fixos.</p>
        <ul>
          <li>Aluguel ou prestaÃ§Ã£o</li>
          <li>Contas (Ã¡gua, luz, internet)</li>
          <li>Transporte</li>
          <li>Supermercado</li>
        </ul>
        <h3>2. Desejos (30%)</h3>
        <p>Use 30% para lazer e qualidade de vida.</p>
        <ul>
          <li>Lazer e hobbies</li>
          <li>Compras nÃ£o essenciais</li>
          <li>Streaming</li>
          <li>Delivery</li>
        </ul>
        <h3>3. Metas (20%)</h3>
        <p>Invista 20% em suas metas futuras.</p>
        <ul>
          <li>Quitar dÃ­vidas</li>
          <li>PoupanÃ§a de emergÃªncia</li>
          <li>Investimentos longos</li>
        </ul>
      </div>
    </section>
  </main>

  <!-- Barra de NavegaÃ§Ã£o -->
  <nav id="menu-navegacao" class="tab-bar">
    <button data-target="lancamento" class="active">ðŸ“Œ LanÃ§amento</button>
    <button data-target="resumo">ðŸ“Š Resumo</button>
    <button data-target="reserva">ðŸ’Ž Reserva</button>
    <button data-target="investimentos">ðŸ“ˆ Investimentos</button>
    <button data-target="historico">ðŸ“œ HistÃ³rico</button>
    <button data-target="mentoria">ðŸ“– Mentoria</button>
  </nav>

  <script src="script.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('SW registrado:', reg))
          .catch(err => console.log('Erro SW:', err));
      });
    }
  </script>
</body>
</html>
